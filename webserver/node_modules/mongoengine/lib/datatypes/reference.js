"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var isValid = function (value, options) {
    if (typeof options.collection === "string")
        return value.getCollectionName() === options.collection;
    return value instanceof options.collection;
};
function Referencefield(name, options) {
    return function (value) {
        var collection = this;
        if (value) {
            if (isValid(value, options))
                this.engine.payload[name] = value.engine.payload;
            else
                throw Error(name + " did not pass validation checks");
        }
        else
            return this.engine.payload[name];
    };
}
exports.Referencefield = Referencefield;
